/**handles:yith_autocomplete**/
!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){"use strict";function t(n,s){var i=function(){},o=this,l={autoSelectFirst:!1,appendTo:"body",serviceUrl:null,lookup:null,onSelect:null,width:"auto",minChars:1,maxHeight:300,deferRequestBy:0,params:{},formatResult:t.formatResult,delimiter:null,zIndex:9999,type:"GET",noCache:!1,onSearchStart:i,onSearchComplete:i,onSearchError:i,containerClass:"autocomplete-suggestions",tabDisabled:!1,dataType:"text",currentRequest:null,triggerSelectOnValidInput:!0,preventBadQueries:!0,lookupFilter:function(e,t,n){return e.value.toLowerCase().indexOf(n)!==-1},paramName:"query",transformResult:function(t){return"string"==typeof t?e.parseJSON(t):t},showNoSuggestionNotice:!1,noSuggestionNotice:"No results"};o.element=n,o.el=e(n),o.suggestions=[],o.badQueries=[],o.selectedIndex=-1,o.currentValue=o.element.value,o.intervalId=0,o.cachedResponse={},o.onChangeInterval=null,o.onChange=null,o.isLocal=!1,o.suggestionsContainer=null,o.options=e.extend({},l,s),o.classes={selected:"autocomplete-selected",suggestion:"autocomplete-suggestion"},o.hint=null,o.hintValue="",o.selection=null,o.initialize(),o.setOptions(s)}var n=function(){return{escapeRegExChars:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},createNode:function(e){var t=document.createElement("div");return t.className=e,t.style.position="absolute",t.style.display="none",t}}}(),s={ESC:27,TAB:9,RETURN:13,LEFT:37,UP:38,RIGHT:39,DOWN:40};t.utils=n,e.YithAutocomplete=t,t.formatResult=function(e,t){var s="("+n.escapeRegExChars(t)+")";return e.value.replace(new RegExp(s,"gi"),"<strong>$1</strong>")},t.prototype={killerFn:null,initialize:function(){var n=this,s="."+n.classes.suggestion,i=n.classes.selected,o=n.options,l;n.element.setAttribute("autocomplete","off"),n.killerFn=function(t){0===e(t.target).closest("."+n.options.containerClass).length&&(n.killSuggestions(),n.disableKillerFn())},n.suggestionsContainer=t.utils.createNode(o.containerClass),l=e(n.suggestionsContainer),l.appendTo(o.appendTo),"auto"!==o.width&&l.width(o.width),l.on("mouseover.autocomplete",s,function(){n.activate(e(this).data("index"))}),l.on("mouseout.autocomplete",function(){n.selectedIndex=-1,l.children("."+i).removeClass(i)}),l.on("click.autocomplete",s,function(){n.select(e(this).data("index"))}),n.fixPosition(),n.fixPositionCapture=function(){n.visible&&n.fixPosition()},e(window).on("resize.autocomplete",n.fixPositionCapture),n.el.on("keydown.autocomplete",function(e){n.onKeyPress(e)}),n.el.on("keyup.autocomplete",function(e){n.onKeyUp(e)}),n.el.on("blur.autocomplete",function(){n.onBlur()}),n.el.on("focus.autocomplete",function(){n.onFocus()}),n.el.on("change.autocomplete",function(e){n.onKeyUp(e)})},onFocus:function(){var e=this;e.fixPosition(),e.options.minChars<=e.el.val().length&&e.onValueChange()},onBlur:function(){this.enableKillerFn()},setOptions:function(t){var n=this,s=n.options;e.extend(s,t),n.isLocal=e.isArray(s.lookup),n.isLocal&&(s.lookup=n.verifySuggestionsFormat(s.lookup)),e(n.suggestionsContainer).css({"max-height":s.maxHeight+"px",width:s.width+"px","z-index":s.zIndex})},clearCache:function(){this.cachedResponse={},this.badQueries=[]},clear:function(){this.clearCache(),this.currentValue="",this.suggestions=[]},disable:function(){var e=this;e.disabled=!0,e.currentRequest&&e.currentRequest.abort()},enable:function(){this.disabled=!1},fixPosition:function(){var t=this,n,s;"body"===t.options.appendTo&&(n=t.el.offset(),s={top:n.top+t.el.outerHeight()+"px",left:n.left+"px"},"auto"===t.options.width&&(s.width=t.el.outerWidth()-2+"px"),e(t.suggestionsContainer).css(s))},enableKillerFn:function(){var t=this;e(document).on("click.autocomplete",t.killerFn)},disableKillerFn:function(){var t=this;e(document).off("click.autocomplete",t.killerFn)},killSuggestions:function(){var e=this;e.stopKillSuggestions(),e.intervalId=window.setInterval(function(){e.hide(),e.stopKillSuggestions()},50)},stopKillSuggestions:function(){window.clearInterval(this.intervalId)},isCursorAtEnd:function(){var e=this,t=e.el.val().length,n=e.element.selectionStart,s;return"number"==typeof n?n===t:!document.selection||(s=document.selection.createRange(),s.moveStart("character",-t),t===s.text.length)},onKeyPress:function(e){var t=this;if(!t.disabled&&!t.visible&&e.which===s.DOWN&&t.currentValue)return void t.suggest();if(!t.disabled&&t.visible){switch(e.which){case s.ESC:t.el.val(t.currentValue),t.hide();break;case s.RIGHT:if(t.hint&&t.options.onHint&&t.isCursorAtEnd()){t.selectHint();break}return;case s.TAB:if(t.hint&&t.options.onHint)return void t.selectHint();case s.RETURN:if(t.selectedIndex===-1)return void t.hide();if(t.select(t.selectedIndex),e.which===s.TAB&&t.options.tabDisabled===!1)return;break;case s.UP:t.moveUp();break;case s.DOWN:t.moveDown();break;default:return}e.stopImmediatePropagation(),e.preventDefault()}},onKeyUp:function(e){var t=this;if(!t.disabled){switch(e.which){case s.UP:case s.DOWN:return}clearInterval(t.onChangeInterval),t.currentValue!==t.el.val()&&(t.findBestHint(),t.options.deferRequestBy>0?t.onChangeInterval=setInterval(function(){t.onValueChange()},t.options.deferRequestBy):t.onValueChange())}},onValueChange:function(){var t=this,n=t.options,s=t.el.val(),i=t.getQuery(s),o;return t.selection&&(t.selection=null,(n.onInvalidateSelection||e.noop).call(t.element)),clearInterval(t.onChangeInterval),t.currentValue=s,t.selectedIndex=-1,n.triggerSelectOnValidInput&&(o=t.findSuggestionIndex(i),o!==-1)?void t.select(o):void(i.length<n.minChars?t.hide():t.getSuggestions(i))},findSuggestionIndex:function(t){var n=this,s=-1,i=t.toLowerCase();return e.each(n.suggestions,function(e,t){if(t.value.toLowerCase()===i)return s=e,!1}),s},getQuery:function(t){var n=this.options.delimiter,s;return n?(s=t.split(n),e.trim(s[s.length-1])):t},getSuggestionsLocal:function(t){var n=this,s=n.options,i=t.toLowerCase(),o=s.lookupFilter,l=parseInt(s.lookupLimit,10),a;return a={suggestions:e.grep(s.lookup,function(e){return o(e,t,i)})},l&&a.suggestions.length>l&&(a.suggestions=a.suggestions.slice(0,l)),a},getSuggestions:function(t){var n,s=this,i=s.options,o=i.serviceUrl,l,a;if(i.params[i.paramName]=t,l=i.ignoreParams?null:i.params,s.isLocal?n=s.getSuggestionsLocal(t):(e.isFunction(o)&&(o=o.call(s.element,t)),a=o+"?"+e.param(l||{}),n=s.cachedResponse[a]),n&&e.isArray(n.suggestions))s.suggestions=n.suggestions,s.suggest();else if(!s.isBadQuery(t)){if(i.onSearchStart.call(s.element,i.params)===!1)return;s.currentRequest&&s.currentRequest.abort(),s.currentRequest=e.ajax({url:o,data:l,type:i.type,dataType:i.dataType}).done(function(e){var n;s.currentRequest=null,n=i.transformResult(e),s.processResponse(n,t,a),i.onSearchComplete.call(s.element,t,n.suggestions)}).fail(function(e,n,o){i.onSearchError.call(s.element,t,e,n,o)})}},isBadQuery:function(e){if(!this.options.preventBadQueries)return!1;for(var t=this.badQueries,n=t.length;n--;)if(0===e.indexOf(t[n]))return!0;return!1},hide:function(){var t=this;t.visible=!1,t.selectedIndex=-1,e(t.suggestionsContainer).hide(),t.signalHint(null)},suggest:function(){if(0===this.suggestions.length)return void(this.options.showNoSuggestionNotice?this.noSuggestions():this.hide());var t=this,n=t.options,s=n.formatResult,i=t.getQuery(t.currentValue),o=t.classes.suggestion,l=t.classes.selected,a=e(t.suggestionsContainer),r=n.beforeRender,u="",c,g;return n.triggerSelectOnValidInput&&(c=t.findSuggestionIndex(i),c!==-1)?void t.select(c):(e.each(t.suggestions,function(e,t){u+='<div class="'+o+'" data-index="'+e+'">'+s(t,i)+"</div>"}),this.adjustContainerWidth(),a.html(u),n.autoSelectFirst&&(t.selectedIndex=0,a.children().first().addClass(l)),e.isFunction(r)&&r.call(t.element,a),a.show(),t.visible=!0,void t.findBestHint())},noSuggestions:function(){var t=this,n=e(t.suggestionsContainer),s="",i;s+='<div class="autocomplete-no-suggestion">'+this.options.noSuggestionNotice+"</div>",this.adjustContainerWidth(),n.html(s),n.show(),t.visible=!0},adjustContainerWidth:function(){var t=this,n=t.options,s,i=e(t.suggestionsContainer);"auto"===n.width&&(s=t.el.outerWidth()-2,i.width(s>0?s:300))},findBestHint:function(){var t=this,n=t.el.val().toLowerCase(),s=null;n&&(e.each(t.suggestions,function(e,t){var i=0===t.value.toLowerCase().indexOf(n);return i&&(s=t),!i}),t.signalHint(s))},signalHint:function(t){var n="",s=this;t&&(n=s.currentValue+t.value.substr(s.currentValue.length)),s.hintValue!==n&&(s.hintValue=n,s.hint=t,(this.options.onHint||e.noop)(n))},verifySuggestionsFormat:function(t){return t.length&&"string"==typeof t[0]?e.map(t,function(e){return{value:e,data:null}}):t},processResponse:function(e,t,n){var s=this,i=s.options;e.suggestions=s.verifySuggestionsFormat(e.suggestions),i.noCache||(s.cachedResponse[n]=e,i.preventBadQueries&&0===e.suggestions.length&&s.badQueries.push(t)),t===s.getQuery(s.currentValue)&&(s.suggestions=e.suggestions,s.suggest())},activate:function(t){var n=this,s,i=n.classes.selected,o=e(n.suggestionsContainer),l=o.children();return o.children("."+i).removeClass(i),n.selectedIndex=t,n.selectedIndex!==-1&&l.length>n.selectedIndex?(s=l.get(n.selectedIndex),e(s).addClass(i),s):null},selectHint:function(){var t=this,n=e.inArray(t.hint,t.suggestions);t.select(n)},select:function(e){var t=this;t.hide(),t.onSelect(e)},moveUp:function(){var t=this;if(t.selectedIndex!==-1)return 0===t.selectedIndex?(e(t.suggestionsContainer).children().first().removeClass(t.classes.selected),t.selectedIndex=-1,t.el.val(t.currentValue),void t.findBestHint()):void t.adjustScroll(t.selectedIndex-1)},moveDown:function(){var e=this;e.selectedIndex!==e.suggestions.length-1&&e.adjustScroll(e.selectedIndex+1)},adjustScroll:function(t){var n=this,s=n.activate(t),i,o,l,a=25;s&&(i=s.offsetTop,o=e(n.suggestionsContainer).scrollTop(),l=o+n.options.maxHeight-a,i<o?e(n.suggestionsContainer).scrollTop(i):i>l&&e(n.suggestionsContainer).scrollTop(i-n.options.maxHeight+a),n.el.val(n.getValue(n.suggestions[t].value)),n.signalHint(null))},onSelect:function(t){var n=this,s=n.options.onSelect,i=n.suggestions[t];n.currentValue=n.getValue(i.value),n.currentValue!==n.el.val()&&n.el.val(n.currentValue),n.signalHint(null),n.suggestions=[],n.selection=i,e.isFunction(s)&&s.call(n.element,i)},getValue:function(e){var t=this,n=t.options.delimiter,s,i;return n?(s=t.currentValue,i=s.split(n),1===i.length?e:s.substr(0,s.length-i[i.length-1].length)+e):e},dispose:function(){var t=this;t.el.off(".autocomplete").removeData("autocomplete"),t.disableKillerFn(),e(window).off("resize.autocomplete",t.fixPositionCapture),e(t.suggestionsContainer).remove()}},e.fn.yithautocomplete=function(n,s){var i="autocomplete";return 0===arguments.length?this.first().data(i):this.each(function(){var o=e(this),l=o.data(i);"string"==typeof n?l&&"function"==typeof l[n]&&l[n](s):(l&&l.dispose&&l.dispose(),l=new t(this,n),o.data(i,l))})}});